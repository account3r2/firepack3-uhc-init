local commandBlock = peripheral.find("command");

function runCommand(string)
	commandBlock.setCommand(string);
	commandBlock.runCommand();
end

function init()
	rs.setOutput("right", false)
	rs.setOutput("left", false)
	runCommand("time set 18000");
	runCommand("difficulty 3");
	runCommand("scoreboard teams add red");
	runCommand("scoreboard teams add green");
	runCommand("scoreboard teams add blue");
	runCommand("scoreboard teams add gold");
	runCommand("scoreboard teams option red friendlyfire false");
	runCommand("scoreboard teams option green friendlyfire false");
	runCommand("scoreboard teams option blue friendlyfire false");
	runCommand("scoreboard teams option gold friendlyfire false");
	runCommand("scoreboard teams option red color red");
	runCommand("scoreboard teams option green color green");
	runCommand("scoreboard teams option blue color blue");
	runCommand("scoreboard teams option gold color gold");
	runCommand("scoreboard teams option red seeFriendlyInvisibles true");
	runCommand("scoreboard teams option green seeFriendlyInvisibles true");
	runCommand("scoreboard teams option blue seeFriendlyInvisibles true");
	runCommand("scoreboard teams option gold seeFriendlyInvisibles true");
	runCommand("scoreboard objectives setdisplay sidebar");
	runCommand("scoreboard objectives setdisplay list");
	runCommand("scoreboard objectives setdisplay belowName");
	runCommand("scoreboard objectives add Health health Health");
	runCommand("scoreboard objectives setdisplay list Health");
	-- Do le Interface! DO IT!!!
	-- The interface should allow players to click on a team colour (red, green, blue, or gold)
	-- It should also have a start button to run the start function.
end

function toTeam(colour)
	runCommand("scoreboard teams join colour @p");
end

function setTime()
	runCommand("difficulty 0");
	runCommand("gamerule doDaylightCycle false");
	runCommand("time set 6000");
	runCommand("difficulty 3");
end

function spreadPlayers()
	runCommand("spreadplayers 0 0 700 1000 true @a");
end

function startGame()
	rs.setOutput("right", true)
	rs.setOutput("left", true)
	setTime();
	spreadPlayers();
	runCommand("gamemode 0 @a");
	runCommand("effect @a 6 10 10 true");	-- Instant Health
	runCommand("effect @a 10 10 10 true");	-- Regeneration
	runCommand("effect @a 11 10 10 true");	-- Resistance
	runCommand("effect @a 23 10 10 true");	-- Saturation 
	runCommand("say The game has started! No killing in the first 20 minutes!");
end

init();
